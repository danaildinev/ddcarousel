"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a
/*! DDCarousel 1.0 by Danail Dinev 2019 | License: https://github.com/danaildinev/ddcarousel/blob/master/LICENSE */}var DDCarousel=function(){function a(b){var c=b.container,d=void 0===c?".ddcarousel":c,e=b.nav,f=void 0!==e&&e,g=b.dots,h=void 0===g||g,i=b.autoHeight,j=void 0!==i&&i,k=b.items,l=void 0===k?1:k,m=b.responsive,n=void 0!==m&&m,o=b.touch,p=void 0===o||o,q=b.touchMouse,r=void 0===q||q,s=b.touchSwipeThreshold,t=void 0===s?60:s,u=b.touchMaxSlideDist,v=void 0===u?500:u,w=b.swipeSmooth,x=void 0===w?.1:w,y=b.slideChangeDuration,z=void 0===y?.3:y,A=b.labelNavPrev,B=void 0===A?"< Prev":A,C=b.labelNavNext,D=void 0===C?"Next >":C;_classCallCheck(this,a),_defineProperty(this,"appName","DDCarousel"),_defineProperty(this,"containerName",null),_defineProperty(this,"container",null),_defineProperty(this,"stage",null),_defineProperty(this,"currentSlide",0),_defineProperty(this,"currentTranslate",0),_defineProperty(this,"slideDiff",0),_defineProperty(this,"slidesHeights",[]),_defineProperty(this,"triggers",[]),_defineProperty(this,"cCont","ddcarousel-container"),_defineProperty(this,"cStage","ddcarousel-stage"),_defineProperty(this,"cNav","ddcarousel-nav"),_defineProperty(this,"cItem","ddcarousel-item"),_defineProperty(this,"cResp","ddcarousel-responsive"),_defineProperty(this,"cDSlide","data-slide"),_defineProperty(this,"cContDots","ddcarousel-dots"),_defineProperty(this,"cDot","ddcarousel-dot"),_defineProperty(this,"cPrev","ddcarousel-prev"),this.checkContainer(d)&&(this.containerName=d,this.autoHeight=j,this.itemsPerPage=l,this.responsive=n,this.nav=f,this.dots=h,this.touch=p,this.touchMouse=r,this.touchSwipeThreshold=t,this.touchMaxSlideDist=v,this.swipeSmooth=x,this.slideChangeDuration=z,this.labelNavPrev=B,this.labelNavNext=D,this.createStage(),this.calculateStage(),this.createNav(),this.createDots(),this.attachEvents(),this.changeSlide(this.changeSlide),this.nav&&this.refreshNav())}return _createClass(a,[{key:"on",value:function(a,b){this.triggers[a]||(this.triggers[a]=[]),this.triggers[a].push(b)}},{key:"triggerHandler",value:function(a,b){if(this.triggers[a])for(var c in this.triggers[a])this.triggers[a][c](b)}},{key:"checkContainer",value:function(a){var b=a.substring(1);return"#"==a.substring(0,1)?null==document.getElementById(b)?(console.log("".concat(this.appName,": Invalid container ID!")),!1):(this.container=document.getElementById(containerNameClear),!0):"."==a.substring(0,1)?null==document.getElementsByClassName(b)[0]?(console.log("".concat(this.appName,": Invalid container class!")),!1):(this.container=document.getElementsByClassName(b)[0],!0):(console.log("".concat(this.appName,": Invalid container!")),!1)}},{key:"createStage",value:function(){var a=0,b=document.createElement("div"),c=document.createElement("div");for(b.classList.add(this.cCont),c.classList.add(this.cStage),this.slidesSource=document.querySelectorAll("".concat(this.containerName," > div")),this.container.appendChild(b),b.appendChild(c),this.stage=document.querySelector("".concat(this.containerName," .").concat(this.cStage)),this.responsive&&this.container.classList.add(this.cResp),a=0;a<this.slidesSource.length;a++){var d=document.createElement("div");d.classList.add(this.cItem),d.setAttribute(this.cDSlide,a),d.appendChild(this.slidesSource[a]),c.appendChild(d)}this.slides=document.querySelectorAll("".concat(this.containerName," .").concat(this.cItem))}},{key:"calculateStage",value:function(){var a,b=this.slides[0].style.width,c=parseInt(window.getComputedStyle(this.container).width);for(this.slidesHeights=[],a=0;a<this.slides.length;a++)this.slides[a].style.width=null==this.itemsPerPage?c+"px":c/this.itemsPerPage+"px",this.slidesHeights.push(document.querySelector("".concat(this.containerName," [").concat(this.cDSlide,'="').concat(a,'"] > div')).scrollHeight);this.autoHeight&&this.calculateContainerHeight(this.currentSlide),this.scrollToSlide(this.getCurrentSlideDom()),b!=this.slides[0].style.width&&this.triggerHandler("resized")}},{key:"createNav",value:function(){if(this.nav){var a=document.createElement("div"),b=document.createElement("button"),c=document.createElement("button");a.classList.add(this.cNav),b.classList.add(this.cPrev),b.innerHTML=this.labelNavPrev,c.classList.add(this.cNext),c.innerHTML=this.labelNavNext,a.appendChild(b),a.appendChild(c),this.container.appendChild(a),this.navPrevBtn=document.querySelector("".concat(this.containerName," .").concat(this.cPrev)),this.navNextBtn=document.querySelector("".concat(this.containerName," .").concat(this.cNext))}}},{key:"createDots",value:function(){var a=this;if(this.dots){var b,c,d,e=document.createElement("div");for(e.classList.add(this.cContDots),d=1<this.itemsPerPage?this.slides.length-this.itemsPerPage+1:this.slides.length,b=0;b<d;b++)(c=document.createElement("button")).classList.add(this.cDot),c.setAttribute(this.cDSlide,b),c.addEventListener("click",function(b){return a.changeSlide(parseInt(b.target.getAttribute(a.cDSlide)))}),e.appendChild(c);this.container.appendChild(e)}}},{key:"attachEvents",value:function(){var a=this;this.nav&&(this.navPrevBtn.addEventListener("click",function(){return a.prevSlide()}),this.navNextBtn.addEventListener("click",function(){return a.nextSlide()}),this.on("changed",function(){a.refreshNav()})),this.responsive&&window.addEventListener("resize",function(){a.calculateStage()}),this.attachTouchEvents()}},{key:"attachTouchEvents",value:function(){var b,c,d,f,g,h,i,a=this,j=[],k=[],l=[];this.touch&&(j.push("touchstart"),k.push("touchmove"),l.push("touchend")),this.touchMouse&&(j.push("mousedown"),k.push("mousemove"),l.push("mouseup")),j.forEach(function(d){a.stage.addEventListener(d,function(d){i=!0,c="mousedown"==d.type||"mousedown"==d.type&&a.touchMouse?d.clientX:d.targetTouches[0].clientX,b="mousedown"==d.type||"mousedown"==d.type&&a.touchMouse?d.clientX+-a.currentTranslate:d.targetTouches[0].clientX+-a.currentTranslate,f=a.currentTranslate,h=!1,a.triggerHandler("drag")},{passive:!0})}),l.forEach(function(b){a.stage.addEventListener(b,function(){a.triggerHandler("dragged"),g>=a.touchSwipeThreshold&&!h?f<d?a.prevSlide():a.nextSlide():a.stage.style.transform="translateX("+f+"px)",a.stage.style.transitionDuration=a.slideChangeDuration+"s",i=!1})}),k.forEach(function(e){a.stage.addEventListener(e,function(f){var e;"mousemove"==f.type&&a.touchMouse?i&&(e=f.clientX):"touchmove"==f.type&&(e=f.targetTouches[0].pageX),a.stage.style.transitionDuration=a.swipeSmooth+"s",g=Math.abs(e-c),d=e-b,g<=a.touchMaxSlideDist?a.scrollToPos(d):(h=!0,d=e-b)},{passive:!0})})}},{key:"refreshNav",value:function(){0==this.currentSlide?this.navPrevBtn.classList.add("inactive"):this.currentSlide===this.slides.length-1||this.currentSlide==this.slideDiff?this.navNextBtn.classList.add("inactive"):0<this.currentSlide&&this.currentSlide<this.slides.length&&(this.navPrevBtn.classList.remove("inactive"),this.navNextBtn.classList.remove("inactive"))}},{key:"scrollToSlide",value:function(a){this.currentTranslate=-(a.getBoundingClientRect().left-this.stage.getBoundingClientRect().left),this.scrollToPos(this.currentTranslate)}},{key:"scrollToPos",value:function(a){this.stage.style.transform="translateX(".concat(a,"px)")}},{key:"calculateContainerHeight",value:function(){if(1==this.itemsPerPage)this.container.style.height=this.slidesHeights[this.currentSlide]+"px";else{var a,b=[];for(a=this.currentSlide;a<=this.currentSlide+this.itemsPerPage-1;a++)b.push(this.slidesHeights[a]),this.container.style.height=Math.max.apply(Math,b)+"px"}}},{key:"changeSlide",value:function(a){var b=this.currentSlide;this.stage.style.transitionDuration=this.slideChangeDuration+"s",this.dots&&document.querySelector("".concat(this.containerName," .").concat(this.cDot,"[").concat(this.cDSlide,'="').concat(this.currentSlide,'"]')).classList.remove("active"),this.getSlideDom(this.currentSlide).classList.remove("active"),"prev"==a?this.currentSlide--:"next"==a?this.currentSlide++:Number.isInteger(a)&&(this.currentSlide=a),this.slideDiff=this.slides.length-this.itemsPerPage,1<this.itemsPerPage&&this.currentSlide>=this.slideDiff?this.currentSlide=this.slideDiff:this.currentSlide>=this.slides.length?this.currentSlide=this.slides.length-1:this.currentSlide<0&&(this.currentSlide=0),this.scrollToSlide(this.getCurrentSlideDom()),this.getSlideDom(this.currentSlide).classList.add("active"),this.dots&&document.querySelector("".concat(this.containerName," .").concat(this.cDot,"[").concat(this.cDSlide,'="').concat(this.currentSlide,'"]')).classList.add("active"),this.autoHeight&&this.calculateContainerHeight(this.getCurrentSlideDom()),b!=this.currentSlide&&this.triggerHandler("changed")}},{key:"nextSlide",value:function(){this.changeSlide("next")}},{key:"prevSlide",value:function(){this.changeSlide("prev")}},{key:"getCurrentSlide",value:function(){return this.currentSlide}},{key:"getCurrentSlideDom",value:function(){return document.querySelector("".concat(this.containerName," [").concat(this.cDSlide,'="').concat(this.currentSlide,'"]'))}},{key:"getCurrentPage",value:function(){return document.querySelector("".concat(this.containerName," [").concat(this.cDSlide,'="').concat(this.currentSlide,'"].active')).getAttribute(this.this.cDSlide)}},{key:"getTotalSlides",value:function(){return this.slides.length}},{key:"getSlideDom",value:function(a){return document.querySelector("".concat(this.containerName," .").concat(this.cItem,"[").concat(this.cDSlide,'="').concat(a,'"]'))}}]),a}();Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function a(a){return function(c){var d=b.className.split(/\s+/),e=d.indexOf(c);a(d,e,c),b.className=d.join(" ")}}var b=this,c={add:a(function(a,b,c){~b||a.push(c)}),remove:a(function(a,b){~b&&a.splice(b,1)}),contains:function(a){return!!~b.className.split(/\s+/).indexOf(a)},item:function(a){return b.className.split(/\s+/)[a]||null}};return Object.defineProperty(c,"length",{get:function(){return b.className.split(/\s+/).length}}),c}});